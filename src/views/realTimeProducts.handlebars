<div class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-5">
        <div>
            <h1 class="fw-bold text-light mb-0">Real Time Products</h1>
            <p class="text-secondary mb-0">Lista de productos en tiempo real</p>
        </div>
    </div>

    <div class="card bg-dark border-secondary mb-5">
        <div class="card-body">
            <h5 class="text-light mb-3">Agregar producto</h5>
            <form id="productForm" class="row g-3">
                <div class="col-md-3">
                    <input type="text" class="form-control bg-dark text-light border-secondary"name="title" placeholder="Título" required>
                </div>

                <div class="col-md-3">
                    <input type="text" class="form-control bg-dark text-light border-secondary" name="code" placeholder="Codigo" required>
                </div>

                <div class="col-md-3">
                    <input type="text" class="form-control bg-dark text-light border-secondary" name="category" placeholder="Categoría" required>
                </div>

                <div class="col-md-3">
                    <input type="number" class="form-control bg-dark text-light border-secondary" name="price" placeholder="Precio" required>
                </div>

                <div class="col-md-6">
                    <input type="text" class="form-control bg-dark text-light border-secondary" name="description" placeholder="Descripción">
                </div>

                <div class="col-md-3">
                    <input type="number" class="form-control bg-dark text-light border-secondary" name="stock" placeholder="Stock">
                </div>

                <div class="col-md-3 d-grid"><button type="submit" class="btn btn-premium">Agregar producto</button></div>
            </form>
        </div>
    </div>

    <div class="row g-4" id="productsContainer">
        {{#each products}}
            <div class="col-12 col-sm-6 col-lg-4 col-xl-3" data-product-id="{{this.id}}">
                <div class="product-card h-100 shadow-lg">
                    <div class="p-4 d-flex flex-column">
                        <h5 class="text-light fw-semibold">{{this.title}}</h5>
                        <p class="text-secondary small mb-2">{{this.category}}</p>
                        <p class="text-muted small">{{this.description}}</p>
                        <div class="mt-auto">
                            <div class="price mb-2">$ {{this.price}}</div>
                            {{#if this.stock}}
                                <span class="badge badge-stock mb-3">En stock ({{this.stock}})</span>
                            {{else}}
                                <span class="badge badge-out mb-3">Sin stock</span>
                            {{/if}}
                            <div class="d-grid"><button class="btn btn-danger delete-btn" data-id="{{this.id}}">Eliminar</button></div>
                        </div>
                    </div>
                </div>
            </div>
        {{/each}}
    </div>
</div>
<script src="/socket.io/socket.io.js"></script>
<script src="/static/js/realTimeProducts.js"></script>